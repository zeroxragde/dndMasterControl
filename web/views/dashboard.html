<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Tablero del DM</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/dashboard.css">
  <link rel="stylesheet" href="css/base.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <script src="js/base.js"></script>
  <script src="js/dashboard.js"></script>
</head>
<body>
  <h1 id="tituloDashboard">Tablero del DM</h1>

  <div class="tabs">
    <button class="tab-button active" onclick="mostrarTab('tab1', event)">🎵 Ambientación musical</button>
    <button class="tab-button" onclick="mostrarTab('tab2', event)">🧙 Creaturas </button>
    <button class="tab-button" onclick="mostrarTab('tab3', event)">📜 Creaturas / Eventos</button>
  </div>

  <div class="tab-content active" id="tab1">
    <div class="fila-contenido">
      <!-- 🎵 Reproductor -->
      <div class="bloque bloque-reproductor">
        <div class="player compacto">
          <div class="player-controls">
            <button id="prev" title="Anterior">&#9664;&#9664;</button>
            <button id="play" title="Play/Pausa">&#9654;</button>
            <button id="next" title="Siguiente">&#9654;&#9654;</button>
            <div class="loop-toggle-container" title="Repetir canción">
              <label class="switch-loop">
                <input type="checkbox" id="loopToggle">
                <span class="slider"></span>
              </label>
              <span class="loop-label">🔁 Loop</span>
              <input type="range" id="volume" min="0" max="100" value="50" title="Volumen">
            </div>
          </div>
          <div class="player-info">
            <span>🎵 <span id="nombreCancion">Sin canción</span></span>

            <div class="player-info-buttons">
              <button id="btnLista" class="btn">🎶 Lista</button>
              <button id="abrirSubida" class="btn">📤 Subir canción</button>
            </div>
          </div>
        </div>
      </div>


      <!-- 🎵 Reproductor Sonidos -->
      <div class="bloque bloque-reproductor">
        <div class="player compacto">
          <div class="player-controls">
            <button id="prev" title="Anterior">&#9664;&#9664;</button>
            <button id="play" title="Play/Pausa">&#9654;</button>
            <button id="next" title="Siguiente">&#9654;&#9654;</button>
            <div class="loop-toggle-container" title="">
              <input type="range" id="volume" min="0" max="100" value="50" title="Volumen">
            </div>
          </div>
          <div class="player-info">
            <span>🎵 <span id="nombreCancion">Sin sonido</span></span>

            <div class="player-info-buttons">
              <button id="btnLista" class="btn">🎶 Lista</button>
              <button id="abrirSubida" class="btn">📤 Subir sonido</button>
            </div>
          </div>
        </div>
      </div>


      <!-- Modales -->
      <div id="modalSubida" class="modal-panel" style="display: none;">
        <div class="modal-header">
          <h3>📤 Subir canciones</h3>
          <button id="cerrarSubida" class="cerrar-modal">✖</button>
        </div>

        <p>Selecciona la categoría y los archivos de audio que quieres añadir.</p>

        <label for="categoriaSubida">Categoría:</label>
        <select id="categoriaSubida" name="categoriaSubida" style="width: 100%; margin-top: 5px; margin-bottom: 15px;">
          <option value="">Sin categoría</option>
          </select>
        
        <input type="file" id="inputCanciones" multiple accept=".mp3,.wav,.ogg" class="btn" style="width: 100%; box-sizing: border-box;">

        <div style="margin-top: 20px; display: flex; justify-content: flex-end;">
            <button id="subirArchivos" class="btn">📁 Subir Archivos</button>
        </div>
      </div>

      <div id="listaPanel" class="modal-panel">
        <div class="modal-header">
          <h3>🎵 Lista de canciones</h3>
          <button class="cerrar-modal" onclick="document.getElementById('listaPanel').style.display='none'">✖</button>
        </div>
      
        <input
          type="text"
          id="buscadorCanciones"
          placeholder="Buscar canción..."
          onkeyup="filtrarCanciones()"
        />
      
        <select id="categoriaCanciones">
          <option value="">Todas las categorías</option>
          <!-- Se cargarán dinámicamente -->
        </select>
      
        <ul id="listaCanciones">
          <!-- Se llenará dinámicamente -->
          <li>Intro - Aventura en Arleneth</li>
          <li>Batalla - Tambores de guerra</li>
          <li>Exploración - Ecos del bosque</li>
        </ul>
      </div>
    </div>
  </div>


  <div class="tab-content" id="tab2">
   
    <div class="list-manager-container">
    
        <div class="list-view">
        
          <div class="table-container">
              <table class="data-table">
                <thead>
                  <tr>
                    <th>Nombre</th>
                    <th>CR</th>
                  </tr>
                </thead>
                <tbody id="listaCriaturasBody">
                  </tbody>
              </table>
          </div>
            
            <div class="list-filters">
              <select>
                <option>Todas las criaturas</option>
              </select>
            </div>
        </div>
    
        <div class="list-actions">
          <button class="btn" title="Eliminar"><i class="fa-solid fa-trash"></i></button>
          <button class="btn" title="Editar"><i class="fa-solid fa-pencil"></i></button>
          <button class="btn" title="Importar/Exportar"><i class="fa-solid fa-file-import"></i></button>
          <button class="btn" title="Refrescar"><i class="fa-solid fa-arrows-rotate"></i></button>
        </div>
    
    </div>
    
    <div class="footer-actions">
      <button class="btn">Nueva Creatura</button>
    </div>
  </div><!--TERMINA TAB 2-->

  <div class="tab-content" id="tab3">
    <h2>Creaturas / Eventos</h2>
    <p>Próximamente...</p>
  </div>








</body>
</html>
